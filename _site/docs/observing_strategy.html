<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/SimSpin/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/SimSpin/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/SimSpin/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/SimSpin/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>observing_strategy | SimSpin</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="observing_strategy" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A package for producing mock observations of particle simulations." /> <meta property="og:description" content="A package for producing mock observations of particle simulations." /> <link rel="canonical" href="http://localhost:4000/SimSpin/docs/observing_strategy.html" /> <meta property="og:url" content="http://localhost:4000/SimSpin/docs/observing_strategy.html" /> <meta property="og:site_name" content="SimSpin" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="observing_strategy" /> <script type="application/ld+json"> {"description":"A package for producing mock observations of particle simulations.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/SimSpin/assets/images/simspin_logo.png"}},"headline":"observing_strategy","url":"http://localhost:4000/SimSpin/docs/observing_strategy.html","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/SimSpin/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/SimSpin/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="http://localhost:4000/SimSpin/installation/" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="http://localhost:4000/SimSpin/basic_usage/" class="nav-list-link">Basic Usage</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/SimSpin/docs/documentation" class="nav-list-link">Documentation</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/SimSpin/docs/make_simspin_file.html" class="nav-list-link">make_simspin_file</a></li><li class="nav-list-item "><a href="http://localhost:4000/SimSpin/docs/telescope.html" class="nav-list-link">telescope</a></li><li class="nav-list-item active"><a href="http://localhost:4000/SimSpin/docs/observing_strategy.html" class="nav-list-link active">observing_strategy</a></li><li class="nav-list-item "><a href="http://localhost:4000/SimSpin/docs/build_datacube.html" class="nav-list-link">build_datacube</a></li><li class="nav-list-item "><a href="http://localhost:4000/SimSpin/docs/write_simspin_FITS.html" class="nav-list-link">write_simspin_fits</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/SimSpin/examples/examples" class="nav-list-link">Examples</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/SimSpin/examples/generating_hdf5.html" class="nav-list-link">HDF5 simulation format</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search SimSpin" aria-label="Search SimSpin" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/kateharborne/SimSpin" class="site-button" target="_blank" rel="noopener noreferrer" > SimSpin on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/SimSpin/docs/documentation">Documentation</a></li> <li class="breadcrumb-nav-list-item"><span>observing_strategy</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="defining-the-properties-of-the-object-being-observed"> <a href="#defining-the-properties-of-the-object-being-observed" class="anchor-heading" aria-labelledby="defining-the-properties-of-the-object-being-observed"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Defining the properties of the object being observed </h1> <p class="fs-5 fw-300 pb-2">In order to build a data cube, we need to describe the conditions in which the observation has been made.</p> <p class="fw-300">Using the <code class="language-plaintext highlighter-rouge">observing_strategy</code> function, a single object is generated to describe the object specific properties such as the projected distance, the projected inclination, the pointing location and the level of seeing. This is used, along with the <code class="language-plaintext highlighter-rouge">telescope</code> object, to describe the specific observing conditions input to <code class="language-plaintext highlighter-rouge">build_datacube</code>.</p> <p><a href="#example" class="btn btn-purple">See an example</a> <a href="https://github.com/kateharborne/SimSpin/blob/d020398fb66274443bb2f70ea1fdd8346c4476ae/R/observing_strategy.R#L56" class="btn btn-purple">See the source code</a></p><hr /> <p>The following code shows the default parameters used in the <code class="language-plaintext highlighter-rouge">observing_strategy</code> function. Calling the function without specifying any input will produce an observing strategy object with the following properties:</p> <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">observing_strategy</span><span class="p">(</span><span class="n">dist_z</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="m">0.05</span><span class="p">,</span><span class="w">   </span><span class="c1"># projected distance to galaxy model</span><span class="w">
                   </span><span class="n">inc_deg</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="m">70</span><span class="p">,</span><span class="w">     </span><span class="c1"># projected angle, 0 deg (o) face on, 90 deg (-) edge on</span><span class="w">
                   </span><span class="n">twist_deg</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w">      </span><span class="c1"># projected angle, 0 deg (o) face on, 90 deg (|) edge on </span><span class="w">
                   </span><span class="n">pointing_kpc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">),</span><span class="w"> </span><span class="c1"># pointing of telescope centre relative to galaxy centre</span><span class="w">
                   </span><span class="n">blur</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">      </span><span class="c1"># seeing conditions</span><span class="w">
</span></code></pre></div></div><hr /> <h2 id="input-parameters"> <a href="#input-parameters" class="anchor-heading" aria-labelledby="input-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Parameters </h2> <div class="table-wrapper"><table> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">dist_Mpc</code>, <code class="language-plaintext highlighter-rouge">dist_kpc_per_arcsec</code>, <code class="language-plaintext highlighter-rouge">dist_z</code></td> <td>The projected distance at which the galaxy is placed. Only one of these three input parameters should be defined at once. Each input describes the projected distance in different units (1) distance in mega-parsec (Mpc) (2) distance as a spatial scale in kilo-parsec per arcsecond (kpc/’’) or (3) redshift distance.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">inc_deg</code></td> <td>The projected inclination of the observed galaxy relative to the z-axis - 0 deg places the galaxy face-on (o), 90 deg is edge-on aligned with the horizontal axis (-). Default is 70.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">twist_deg</code></td> <td>The projected inclination of the observed galaxy relative to the x-axis - 0 deg places the galaxy face-on (o), 90 deg is edge-on aligned with the vertical axis (|). Default is 0.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">pointing_deg</code>, <code class="language-plaintext highlighter-rouge">pointing_kpc</code></td> <td>A numeric array <code class="language-plaintext highlighter-rouge">c(x,y)</code> specifying the position at which the field-of-view is centred given as a shift relative to the centre at (0,0) in units of (1) degrees or (2) kilo-parsecs. Only one of these two parameters should be supplied. Default is c(0,0) offset.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">blur</code></td> <td>Should the observation be convolved with a PSF to mimic the effects of seeing conditions? If <code class="language-plaintext highlighter-rouge">TRUE</code>, the parameters below will describe the size and shape of this convolution kernel.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">psf</code></td> <td>The shape of the point-spread function with which the cube is convolved to generate a seeing-convolved observation. Options include “Gaussian” and “Moffat”. Only used if <code class="language-plaintext highlighter-rouge">blur = TRUE </code>.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">fwhm</code></td> <td>The size of the point-spread function kernel, as measured by the full-width half-maximum in arcseconds. Only used if <code class="language-plaintext highlighter-rouge">blur = TRUE </code>.</td> </tr> </tbody> </table></div><hr /> <h2 id="example"> <a href="#example" class="anchor-heading" aria-labelledby="example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h2> <p>Start by initiallising an observing strategy using the default parameters:</p> <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">observing_strategy</span><span class="p">()</span><span class="w">
</span></code></pre></div></div> <p>We can inspect the object produced and see that the default parameters have been stored as a list.</p> <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">summary</span><span class="p">(</span><span class="n">strategy</span><span class="p">)</span><span class="w">
</span><span class="c1">#           Length Class    Mode   </span><span class="w">
</span><span class="c1"># distance  1      Distance S4     </span><span class="w">
</span><span class="c1"># inc_deg   1      -none-   numeric</span><span class="w">
</span><span class="c1"># twist_deg 1      -none-   numeric</span><span class="w">
</span><span class="c1"># pointing  1      Pointing S4     </span><span class="w">
</span><span class="c1"># blur      1      -none-   logical</span><span class="w">
</span></code></pre></div></div> <p>To inspect individual properties of our observing strategy, use the named elements in one of two ways to achieve the same result:</p> <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">strategy</span><span class="o">$</span><span class="n">inc_deg</span><span class="w">
</span><span class="c1"># [1] 70</span><span class="w">

</span><span class="n">strategy</span><span class="p">[[</span><span class="s2">"inc_deg"</span><span class="p">]]</span><span class="w">
</span><span class="c1"># [1] 70</span><span class="w">
</span></code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">distance</code> and <code class="language-plaintext highlighter-rouge">pointing</code> parameters are listed as <em>S4 objects</em>. When we examine each of these parameters, they will be formatted to include all definitions of distance/pointing, for example:</p> <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">strategy</span><span class="o">$</span><span class="n">distance</span><span class="w">
</span><span class="c1"># Distance to observed galaxy is:</span><span class="w">
</span><span class="c1">#  227.4797 Mpc ---- physical distance,</span><span class="w">
</span><span class="c1">#  1.00032 kpc/'' - angular scale on the sky,</span><span class="w">
</span><span class="c1">#  z = 0.05 -------- projected redshift distance.</span><span class="w">

</span><span class="n">strategy</span><span class="o">$</span><span class="n">pointing</span><span class="w">
</span><span class="c1"># Pointing relative to observed galaxy centre at (0,0) is:</span><span class="w">
</span><span class="c1">#  (x,y):  (0,0) degrees -- </span><span class="w">
</span><span class="c1">#  (x,y):  (0,0) kpc ------ </span><span class="w">

</span></code></pre></div></div> <p>In order to access individual components of these parameters, such as the projected distance to the galaxy in units of Mpc, we can use the S4 methods shown below:</p> <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">z</span><span class="p">(</span><span class="n">strategy</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span><span class="w">
</span><span class="c1"># [1] 0.05</span><span class="w">

</span><span class="n">Mpc</span><span class="p">(</span><span class="n">strategy</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span><span class="w">
</span><span class="c1"># [1] 227.4797</span><span class="w">

</span><span class="n">kpc_per_arcsec</span><span class="p">(</span><span class="n">strategy</span><span class="o">$</span><span class="n">distance</span><span class="p">)</span><span class="w">
</span><span class="c1"># [1] 1.00032</span><span class="w">

</span><span class="n">xy_deg</span><span class="p">(</span><span class="n">strategy</span><span class="o">$</span><span class="n">pointing</span><span class="p">)</span><span class="w">
</span><span class="c1"># [1] 0 0</span><span class="w">

</span><span class="n">xy_kpc</span><span class="p">(</span><span class="n">strategy</span><span class="o">$</span><span class="n">pointing</span><span class="p">)</span><span class="w">
</span><span class="c1"># [1] 0 0</span><span class="w">

</span></code></pre></div></div><hr /> <p>Now that you’ve described the observing strategy, you can move on to building a mock observation…</p> <p><a href="/SimSpin/docs/build_datacube.html" class="btn btn-purple">Next Step: build_datacube</a></p> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2022 Katherine Harborne. Distributed by an <a href="https://github.com/kateharborne/SimSpin/blob/master/LICENSE">GPLv3 license.</a></p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0 mr-2"> Page last modified: <span class="d-inline-block">May 27 2022 at 03:57 PM</span>. </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="/SimSpin/assets/copyCode.js"></script> </body> </html>
